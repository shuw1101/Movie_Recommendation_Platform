{"ast":null,"code":"import { MoviesService } from './services/movies.service';\nimport { take } from 'rxjs/operators';\nimport { Router } from \"@angular/router\";\nimport { OnTVService } from \"./services/onTV.service\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./services/movies.service\";\nimport * as i2 from \"./services/onTV.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"@angular/material/card\";\nimport * as i7 from \"../../shared/components/poster-card-view/poster-card.component\";\nimport * as i8 from \"@angular/material/paginator\";\nfunction ContentComponent_app_poster_card_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-poster-card\", 10);\n  }\n  if (rf & 2) {\n    const content_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"model\", content_r1)(\"isMovie\", ctx_r0.contentType === \"movies\");\n  }\n}\nexport class ContentComponent {\n  constructor(moviesService, tvShowsService, router) {\n    this.moviesService = moviesService;\n    this.tvShowsService = tvShowsService;\n    this.router = router;\n    this.contentType = '';\n    this.nowPlaying = [];\n    this.contentType = this.router.url.split('/')[1];\n  }\n  ngOnInit() {\n    if (this.contentType === 'movies') {\n      this.getNowPlayinMovies(1);\n    } else {\n      this.getNowPlayinTVShows(1);\n    }\n  }\n  getNowPlayinMovies(page) {\n    this.moviesService.getNowPlaying(page).pipe(take(1)).subscribe(res => {\n      this.totalResults = res.total_results;\n      this.nowPlaying = res.results;\n    }, () => {});\n  }\n  getNowPlayinTVShows(page) {\n    this.tvShowsService.getTvOnTheAir(page).pipe(take(1)).subscribe(res => {\n      this.totalResults = res.total_results;\n      this.nowPlaying = res.results;\n    }, () => {});\n  }\n  changePage(event) {\n    if (this.contentType === 'movies') {\n      this.getNowPlayinMovies(event.pageIndex + 1);\n    } else {\n      this.getNowPlayinTVShows(event.pageIndex + 1);\n    }\n  }\n}\nContentComponent.ɵfac = function ContentComponent_Factory(t) {\n  return new (t || ContentComponent)(i0.ɵɵdirectiveInject(i1.MoviesService), i0.ɵɵdirectiveInject(i2.OnTVService), i0.ɵɵdirectiveInject(i3.Router));\n};\nContentComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ContentComponent,\n  selectors: [[\"app-movies\"]],\n  decls: 25,\n  vars: 6,\n  consts: [[1, \"contents\", \"container\"], [1, \"contents__filter\", 2, \"flex-direction\", \"row\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"aria-label\", \"Set Now Playing filter\", \"disabled\", \"\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"aria-label\", \"Set Upcoming filter\", \"disabled\", \"\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"aria-label\", \"Set Popular filter\", \"disabled\", \"\"], [1, \"contents__container\"], [1, \"contents__right-side\"], [1, \"contents__list\"], [\"style\", \"padding-left:5px;\", 3, \"model\", \"isMovie\", 4, \"ngFor\", \"ngForOf\"], [3, \"length\", \"pageSize\", \"page\"], [2, \"padding-left\", \"5px\", 3, \"model\", \"isMovie\"]],\n  template: function ContentComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"main\", 0)(1, \"h2\");\n      i0.ɵɵtext(2);\n      i0.ɵɵpipe(3, \"titlecase\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"mat-card\", 1)(5, \"div\");\n      i0.ɵɵtext(6, \"Sort by:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"button\", 2);\n      i0.ɵɵtext(8, \"Rates\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"button\", 3);\n      i0.ɵɵtext(10, \"Most Recent\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(11, \"mat-card\", 1)(12, \"div\");\n      i0.ɵɵtext(13, \"Filter by:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"button\", 2);\n      i0.ɵɵtext(15, \"After 2015\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"button\", 3);\n      i0.ɵɵtext(17, \"2010-2015\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"button\", 4);\n      i0.ɵɵtext(19, \"Before 2015\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(20, \"div\", 5)(21, \"div\", 6)(22, \"div\", 7);\n      i0.ɵɵtemplate(23, ContentComponent_app_poster_card_23_Template, 1, 2, \"app-poster-card\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"mat-paginator\", 9);\n      i0.ɵɵlistener(\"page\", function ContentComponent_Template_mat_paginator_page_24_listener($event) {\n        return ctx.changePage($event);\n      });\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"All \", i0.ɵɵpipeBind1(3, 4, ctx.contentType), \"\");\n      i0.ɵɵadvance(21);\n      i0.ɵɵproperty(\"ngForOf\", ctx.nowPlaying);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"length\", ctx.totalResults)(\"pageSize\", 20);\n    }\n  },\n  dependencies: [i4.NgForOf, i5.MatButton, i6.MatCard, i7.MovieCardComponent, i8.MatPaginator, i4.TitleCasePipe],\n  styles: [\".contents[_ngcontent-%COMP%]{color:#fff;padding-top:60px}@media (max-width: 576px){.contents[_ngcontent-%COMP%]{padding:0 16px 16px}}.contents__container[_ngcontent-%COMP%]{display:flex;flex-direction:col;align-items:flex-start;gap:16px}@media (max-width: 576px){.contents__container[_ngcontent-%COMP%]{flex-direction:column}}.contents__filter[_ngcontent-%COMP%]{display:flex;gap:8px;padding:16px;width:100%;align-items:center}@media (max-width: 576px){.contents__filter[_ngcontent-%COMP%]{width:100%}}.contents__right-side[_ngcontent-%COMP%]{width:100%}@media (max-width: 576px){.contents__right-side[_ngcontent-%COMP%]{width:100%}}.contents__list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:8px}@media (max-width: 576px){.contents__list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}}@media (min-width: 576px) and (max-width: 768px){.contents__list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}}\"]\n});","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}